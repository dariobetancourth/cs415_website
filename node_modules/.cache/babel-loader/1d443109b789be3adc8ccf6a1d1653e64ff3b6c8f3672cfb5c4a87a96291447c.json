{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const RegisterForm=props=>{const navigate=useNavigate();const[email,setEmail]=useState('');const[pass,setPass]=useState('');const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[error,setError]=useState('');const handleSubmit=e=>{e.preventDefault();setError(null);let success=true;let errorText='';const payload=JSON.stringify({first_name:firstName,last_name:lastName,email:email,password:pass});try{fetch('http://127.0.0.1:8000/users/',{method:'POST',body:payload,headers:{'Content-Type':'application/json'}}).then(res=>{console.log(res);if(!res.ok){errorText=\"Error: \"+res.status+' - ';success=false;return res.json();}else{success=true;return res.json();}}).then(data=>{if(!success){for(const err in data.errors){for(const msg in data.errors[err])errorText+=data.errors[err][msg];}console.log(errorText);setError(errorText);}}).catch(error=>{success=false;console.error(error);});if(success){setEmail('');setFirstName('');setLastName('');setPass('');setError('Registered Successfully!');}else{setError(errorText);}}catch(error){console.error(error);setError('Error Registering - Check your information and try again');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"register-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:firstName,onChange:e=>setFirstName(e.target.value),type:\"text\",placeholder:\"First Name\",id:\"firstName\",name:\"firstName\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:lastName,onChange:e=>setLastName(e.target.value),type:\"text\",placeholder:\"Last Name\",id:\"lastName\",name:\"lastName\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:email,onChange:e=>setEmail(e.target.value),type:\"email\",placeholder:\"email@email.com\",id:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:pass,onChange:e=>setPass(e.target.value),type:\"password\",placeholder:\"*********\",id:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-success\",children:/*#__PURE__*/_jsx(\"b\",{children:error})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>navigate('/login'),children:\"Already have an account? Login here.\"})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterForm","props","navigate","email","setEmail","pass","setPass","firstName","setFirstName","lastName","setLastName","error","setError","handleSubmit","e","preventDefault","success","errorText","payload","JSON","stringify","first_name","last_name","password","fetch","method","body","headers","then","res","console","log","ok","status","json","data","err","errors","msg","catch","children","className","onSubmit","htmlFor","required","value","onChange","target","type","placeholder","id","name","onClick"],"sources":["C:/Docs/Ensign College/7 Semester/CS415_Project2/CS415_Project2/website/src/Components/RegisterForm.jsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useNavigate } from \"react-router-dom\"\n\nexport const RegisterForm = (props) => {\n    const navigate = useNavigate();\n    const [email, setEmail] = useState('');\n    const [pass, setPass] = useState('');\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setError(null)\n        let success = true\n        let errorText = ''\n        const payload = JSON.stringify({\n            first_name: firstName,\n            last_name: lastName,\n            email: email,\n            password: pass\n        })\n        try {\n            fetch('http://127.0.0.1:8000/users/',{\n            method: 'POST',\n            body: payload,\n            headers:{\n                'Content-Type': 'application/json'\n                }\n            }).then(res => {\n                    console.log(res)\n                    if (!res.ok){\n                        errorText = \"Error: \" + res.status + ' - '\n                        success = false\n                        return res.json()\n                    }\n                    else {\n                        success = true\n                        return res.json()\n                    }\n                 }\n              ).then(data => {\n                if (!success) {\n                    for (const err in data.errors){\n                    for (const msg in data.errors[err]) errorText += data.errors[err][msg]\n                    }\n                    console.log(errorText)\n                    setError(errorText)\n                }\n\n            })\n            .catch(error => {\n                success = false\n                console.error(error)\n            });\n            if (success) {\n                setEmail('')\n                setFirstName('')\n                setLastName('')\n                setPass('')\n                setError('Registered Successfully!')\n            }\n            else{\n                setError(errorText)\n            }\n        } catch (error) {\n            console.error(error);\n            setError('Error Registering - Check your information and try again')\n        }\n\n    }\n\n    return (\n        <div >\n            <h2>Register</h2>\n            <form className=\"register-form\" onSubmit={handleSubmit}>\n                <label htmlFor=\"firstName\">First Name</label>\n                <input required value={firstName} onChange={(e) => setFirstName(e.target.value)} type=\"text\" placeholder=\"First Name\" id=\"firstName\" name=\"firstName\"/>\n                <label htmlFor=\"lastName\">Last Name</label>\n                <input required value={lastName} onChange={(e) => setLastName(e.target.value)} type=\"text\" placeholder=\"Last Name\" id=\"lastName\" name=\"lastName\"/>\n                <label htmlFor=\"email\">Email</label>\n                <input required value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"email@email.com\" id=\"email\" name=\"email\"/>\n                <label htmlFor=\"password\">Password</label>\n                <input required value={pass} onChange={(e) => setPass(e.target.value)} type=\"password\" placeholder=\"*********\" id=\"password\" name=\"password\"/>\n                <button type=\"submit\">Register</button>\n                <p className=\"text-success\"><b>{error}</b></p>\n            </form>\n\n            <button className=\"link-btn\" onClick={() => navigate('/login')}>Already have an account? Login here.</button>\n\n        </div>\n    )\n}\n\nexport default RegisterForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}